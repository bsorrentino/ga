var GA=GA||{};GA.VERSION="0.0.1",GA.plugins=void 0,GA.custom=void 0,GA.create=function(a,b,c,d,e){function f(){if(requestAnimationFrame(f,q.canvas),void 0===q._fps)h(),q.render(q.canvas,0);else{var a=Date.now(),b=a-q._startTime;for(b>1e3&&(b=q._frameDuration),q._startTime=a,q._lag+=b;q._lag>=q._frameDuration;)g(),h(),q._lag-=q._frameDuration;var c=q._lag/q._frameDuration;q.render(q.canvas,c)}}function g(){function a(b){b._previousX=b.x,b._previousY=b.y,b.children&&b.children.length>0&&b.children.forEach(function(b){a(b)})}q.stage.children.forEach(function(b){a(b)})}function h(){if(q.buttons.length>0){q.canvas.style.cursor="auto";for(var a=q.buttons.length-1;a>=0;a--){var b=q.buttons[a];b.update(q.pointer,q.canvas),("over"===b.state||"down"===b.state)&&(b.stage||(q.canvas.style.cursor="pointer"))}}if(q.dragAndDrop&&q.pointer.updateDragAndDrop(),q.state&&!q.paused&&q.state(),0!==q.updateFunctions.length)for(var c=0;c<q.updateFunctions.length;c++){var d=q.updateFunctions[c];d()}}function i(a){a.x=0,a.y=0,a.vx=0,a.vy=0,a.width=0,a.height=0,a.scaleX=1,a.scaleY=1,a.pivotX=.5,a.pivotY=.5,a.rotation=0,a.visible=!0,a.parent=void 0,a.stage=!1,a.shadow=!1,a.shadowColor="rgba(100, 100, 100, 0.5)",a.shadowOffsetX=3,a.shadowOffsetY=3,a.shadowBlur=3,a.blendMode=void 0,a._alpha=1,a._draggable=void 0,a._layer=0,a._circular=!1,a._interactive=!1,a._previousX=void 0,a._previousY=void 0,a.children=[],a.addChild=function(b){b.parent&&b.parent.removeChild(b),b.parent=a,a.children.push(b)},a.removeChild=function(b){if(b.parent!==a)throw new Error(b+"is not a child of "+a);a.children.splice(a.children.indexOf(b),1)},a.swapChildren=function(b,c){var d=a.children.indexOf(b),e=a.children.indexOf(c);if(-1===d||-1===e)throw new Error(child+" Both objects must be a child of the caller "+a);b.childIndex=e,c.childIndex=d,a.children[d]=c,a.children[e]=b},a.add=function(){var b=Array.prototype.slice.call(arguments);b.length>1?b.forEach(function(b){a.addChild(b)}):a.addChild(b[0])},a.remove=function(){var b=Array.prototype.slice.call(arguments);b.length>1?b.forEach(function(b){a.removeChild(b)}):a.removeChild(b[0])},a.setPosition=function(b,c){a.x=b,a.y=c};var b=a;a.putCenter=function(c,d,e){d=d||0,e=e||0,c.x=b.x+b.halfWidth-c.halfWidth+d,c.y=b.y+b.halfHeight-c.halfHeight+e,a.compensateForParentPosition(b,c)},a.putTop=function(c,d,e){d=d||0,e=e||0,c.x=b.x+b.halfWidth-c.halfWidth+d,c.y=b.y-c.height+e,a.compensateForParentPosition(b,c)},a.putRight=function(c,d,e){d=d||0,e=e||0,c.x=b.x+b.width+d,c.y=b.y+b.halfHeight-c.halfHeight+e,a.compensateForParentPosition(b,c)},a.putBottom=function(c,d,e){d=d||0,e=e||0,c.x=b.x+b.halfWidth-c.halfWidth+d,c.y=b.y+b.height+e,a.compensateForParentPosition(b,c)},a.putLeft=function(c,d,e){d=d||0,e=e||0,c.x=b.x-c.width+d,c.y=b.y+b.halfHeight-c.halfHeight+e,a.compensateForParentPosition(b,c)},a.compensateForParentPosition=function(a,b){(0!==b.parent.gx||0!==b.parent.gy)&&(b.x-=a.gx,b.y-=a.gy)},Object.defineProperties(a,{gx:{get:function(){return this.parent?this.x+this.parent.gx:this.x},enumerable:!0,configurable:!0},gy:{get:function(){return this.parent?this.y+this.parent.gy:this.y},enumerable:!0,configurable:!0},position:{get:function(){return{x:a.x,y:a.y}},enumerable:!0,configurable:!0},alpha:{get:function(){var b=a.parent._alpha*a._alpha;return b},set:function(b){a._alpha=b},enumerable:!0,configurable:!0},halfWidth:{get:function(){return a.width/2},enumerable:!0,configurable:!0},halfHeight:{get:function(){return a.height/2},enumerable:!0,configurable:!0},centerX:{get:function(){return a.x+a.halfWidth},enumerable:!0,configurable:!0},centerY:{get:function(){return a.y+a.halfHeight},enumerable:!0,configurable:!0},layer:{get:function(){return a._layer},set:function(b){a._layer=b,a.parent.children.sort(p)},enumerable:!0,configurable:!0},circular:{get:function(){return a._circular},set:function(b){b===!0&&a._circular===!1&&(j(a),a._circular=!0),b===!1&&a._circular===!0&&(delete a.diameter,delete a.radius,a._circular=!1)},enumerable:!0,configurable:!0},draggable:{get:function(){return a._draggable},set:function(b){b===!0&&(q.draggableSprites.push(a),a._draggable=!0,q.dragAndDrop===!1&&(q.dragAndDrop=!0)),b===!1&&q.draggableSprites.splice(q.draggableSprites.indexOf(a),1)},enumerable:!0,configurable:!0},interactive:{get:function(){return a._interactive},set:function(b){b===!0&&(l(a),a._interactive=!0),b===!1&&(q.buttons.splice(q.buttons.indexOf(a),1),a._interactive=!1)},enumerable:!0,configurable:!0},localBounds:{get:function(){var b={x:0,y:0,width:a.width,height:a.height};return b},enumerable:!0,configurable:!0},globalBounds:{get:function(){return rectangle={x:a.gx,y:a.gy,width:a.gx+a.width,height:a.gy+a.height},rectangle},enumerable:!0,configurable:!0},empty:{get:function(){return 0===a.children.length?!0:!1},enumerable:!0,configurable:!0}})}function j(a){Object.defineProperties(a,{diameter:{get:function(){return a.width},set:function(b){a.width=b,a.height=b},enumerable:!0,configurable:!0},radius:{get:function(){return a.width/2},set:function(b){a.width=2*b,a.height=2*b},enumerable:!0,configurable:!0}})}function k(){var a={};return i(a),a.stage=!0,a.width=q.canvas.width,a.height=q.canvas.height,a.x=0,a.y=0,a.parent=void 0,a}function l(a){a.press=a.press||void 0,a.release=a.release||void 0,a.over=a.over||void 0,a.out=a.out||void 0,a.tap=a.tap||void 0,a.state="up",a.action="",a.pressed=!1,a.enabled=!0,a.hoverOver=!1,q.buttons.push(a),a.update=function(b){if(a.enabled){var c=q.pointer.hitTestSprite(a);b.isUp&&(a.state="up","button"===a.subtype&&a.show(0)),c&&(a.state="over",a.frames&&3===a.frames.length&&"button"===a.subtype&&a.show(1),b.isDown&&(a.state="down","button"===a.subtype&&a.show(3===a.frames.length?2:1))),"down"===a.state&&(a.pressed||(a.press&&a.press(),a.pressed=!0,a.action="pressed")),"over"===a.state&&(a.pressed&&(a.release&&a.release(),a.pressed=!1,a.action="released",q.pointer.tapped&&a.tap&&a.tap()),a.hoverOver||(a.over&&a.over(),a.hoverOver=!0)),"up"===a.state&&(a.pressed&&(a.release&&a.release(),a.pressed=!1,a.action="released"),a.hoverOver&&(a.out&&a.out(),a.hoverOver=!1))}}}function m(){var a={};return a._x=0,a._y=0,Object.defineProperties(a,{x:{get:function(){return a._x/q.scale},enumerable:!0,configurable:!0},y:{get:function(){return a._y/q.scale},enumerable:!0,configurable:!0},centerX:{get:function(){return a.x},enumerable:!0,configurable:!0},centerY:{get:function(){return a.y},enumerable:!0,configurable:!0},position:{get:function(){return{x:a.x,y:a.y}},enumerable:!0,configurable:!0}}),a.isDown=!1,a.isUp=!0,a.tapped=!1,a.downTime=0,a.elapsedTime=0,a.press=void 0,a.release=void 0,a.tap=void 0,a.dragSprite=null,a.dragOffsetX=0,a.dragOffsetY=0,a.moveHandler=function(b){a._x=b.pageX-b.target.offsetLeft,a._y=b.pageY-b.target.offsetTop,b.preventDefault()},a.touchmoveHandler=function(b){a._x=b.targetTouches[0].pageX-q.canvas.offsetLeft,a._y=b.targetTouches[0].pageY-q.canvas.offsetTop,b.preventDefault()},a.downHandler=function(b){a._x=b.pageX-b.target.offsetLeft,a._y=b.pageY-b.target.offsetTop,a.isDown=!0,a.isUp=!1,a.tapped=!1,a.downTime=Date.now(),a.press&&a.press(),b.preventDefault()},a.touchstartHandler=function(b){a._x=b.targetTouches[0].pageX-q.canvas.offsetLeft,a._y=b.targetTouches[0].pageY-q.canvas.offsetTop,a.isDown=!0,a.isUp=!1,a.tapped=!1,a.downTime=Date.now(),a.press&&a.press(),b.preventDefault()},a.upHandler=function(b){a.elapsedTime=Math.abs(a.downTime-Date.now()),a.elapsedTime<=200&&(a.tapped=!0,a.tap&&a.tap()),a.isUp=!0,a.isDown=!1,a.release&&a.release(),b.preventDefault()},q.canvas.addEventListener("mousemove",a.moveHandler.bind(a),!1),q.canvas.addEventListener("mousedown",a.downHandler.bind(a),!1),window.addEventListener("mouseup",a.upHandler.bind(a),!1),q.canvas.addEventListener("touchmove",a.touchmoveHandler.bind(a),!1),q.canvas.addEventListener("touchstart",a.touchstartHandler.bind(a),!1),window.addEventListener("touchend",a.upHandler.bind(a),!1),q.canvas.style.touchAction="none",a.hitTestSprite=function(b){var c=!1;if(b.circular){var d=a.x-(b.gx+b.halfWidth),e=a.y-(b.gy+b.halfHeight),f=Math.sqrt(d*d+e*e);c=f<b.radius}else var g=b.gx,h=b.gx+b.width,i=b.gy,j=b.gy+b.height,c=a.x>g&&a.x<h&&a.y>i&&a.y<j;return c},a.updateDragAndDrop=function(){if(a.isDown)if(null===a.dragSprite)for(var b=q.draggableSprites.length-1;b>-1;b--){var c=q.draggableSprites[b];if(c.draggable&&a.hitTestSprite(c)){a.dragOffsetX=a.x-c.gx,a.dragOffsetY=a.y-c.gy,a.dragSprite=c;var d=c.parent.children;d.splice(d.indexOf(c),1),d.push(c),q.draggableSprites.splice(q.draggableSprites.indexOf(c),1),q.draggableSprites.push(c);break}}else a.dragSprite.x=a.x-a.dragOffsetX,a.dragSprite.y=a.y-a.dragOffsetY;a.isUp&&(a.dragSprite=null),q.draggableSprites.some(function(b){return b.draggable&&a.hitTestSprite(b)?(q.canvas.style.cursor="pointer",!0):(q.canvas.style.cursor="auto",!1)})},a}function n(a){var b={};return b.code=a,b.isDown=!1,b.isUp=!0,b.press=void 0,b.release=void 0,b.downHandler=function(a){a.keyCode===b.code&&(b.isUp&&b.press&&b.press(),b.isDown=!0,b.isUp=!1),a.preventDefault()},b.upHandler=function(a){a.keyCode===b.code&&(b.isDown&&b.release&&b.release(),b.isDown=!1,b.isUp=!0),a.preventDefault()},window.addEventListener("keydown",b.downHandler.bind(b),!1),window.addEventListener("keyup",b.upHandler.bind(b),!1),b}function o(){var a={};return a.leftArrow=n(37),a.upArrow=n(38),a.rightArrow=n(39),a.downArrow=n(40),a.space=n(32),a}function p(a,b){return a.layer<b.layer?-1:(a.layer>b.layer,1)}var q={},r=1;if(q.canvas=document.createElement("canvas"),q.canvas.setAttribute("width",a*r),q.canvas.setAttribute("height",b*r),q.canvas.style.backgroundColor="black",document.body.appendChild(q.canvas),q.canvas.ctx=q.canvas.getContext("2d"),q.stage=k(),q.pointer=m(),q.key=o(),q.buttons=[],q.dragAndDrop=!1,q.draggableSprites=[],q.tweens=[],q.state=void 0,q.load=e||void 0,q.setup=c||void 0,void 0===q.setup)throw new Error("Please supply the setup function in the constructor");return q.assetFilePaths=d||void 0,q.paused=!1,q._fps=60,q._startTime=Date.now(),q._frameDuration=1e3/q._fps,q._lag=0,q.interpolate=!0,q.updateFunctions=[],q.scale=1,q.start=function(){q.assetFilePaths?(q.assets.whenLoaded=function(){q.state=void 0,q.setup()},q.assets.load(q.assetFilePaths),q.load&&(q.state=q.load)):q.setup(),f()},q.pause=function(){q.paused=!0},q.resume=function(){q.paused=!1},q.hidePointer=function(){q.canvas.style.cursor="none"},q.showPointer=function(){q.canvas.style.cursor="auto"},Object.defineProperties(q,{fps:{get:function(){return q._fps},set:function(a){q._fps=a,q._startTime=Date.now(),q._frameDuration=1e3/q._fps},enumerable:!0,configurable:!0},backgroundColor:{set:function(a){q.canvas.style.backgroundColor=a},enumerable:!0,configurable:!0}}),q.remove=function(){var a=Array.prototype.slice.call(arguments);if(a[0]instanceof Array){var b=a[0];if(b.length>0)for(var c=b.length-1;c>=0;c--){var d=b[c];d.parent.removeChild(d),b.splice(b.indexOf(d),1)}}else a.length>1?a.forEach(function(a){a.parent.removeChild(a)}):a[0].parent.removeChild(a[0])},q.group=function(a){var b={};if(i(b),b.addChild=function(a){a.parent&&a.parent.removeChild(a),a.parent=b,b.children.push(a),b.calculateSize()},b.removeChild=function(a){if(a.parent!==b)throw new Error(a+"is not a child of "+b);b.children.splice(b.children.indexOf(a),1),b.calculateSize()},b.calculateSize=function(){b.children.length>0&&(b._newWidth=0,b._newHeight=0,b.children.forEach(function(a){a.x+a.width>b._newWidth&&(b._newWidth=a.x+a.width),a.y+a.height>b._newHeight&&(b._newHeight=a.y+a.height)}),b.width=b._newWidth,b.height=b._newHeight)},q.stage.addChild(b),a){var c=Array.prototype.slice.call(arguments);c.forEach(function(a){b.addChild(a)})}return b},q.rectangle=function(a,b,c,d,e,f,g){var h={};return i(h),h.mask=!1,h.width=a||32,h.height=b||32,h.fillStyle=c||"red",h.strokeStyle=d||"none",h.lineWidth=e||0,h.x=f||0,h.y=g||0,q.stage.addChild(h),h.render=function(a){a.strokeStyle=h.strokeStyle,a.lineWidth=h.lineWidth,a.fillStyle=h.fillStyle,a.beginPath(),a.rect(-h.width*h.pivotX,-h.height*h.pivotY,h.width,h.height),h.mask===!0?a.clip():("none"!==h.strokeStyle&&a.stroke(),"none"!==h.fillStyle&&a.fill())},h},q.circle=function(a,b,c,d,e,f){var g={};return i(g),g.mask=!1,g.width=a||32,g.height=a||32,g.fillStyle=b||"red",g.strokeStyle=c||"none",g.lineWidth=d||"none",g.x=e||0,g.y=f||0,q.stage.addChild(g),j(g),g.render=function(a){a.strokeStyle=g.strokeStyle,a.lineWidth=g.lineWidth,a.fillStyle=g.fillStyle,a.beginPath(),a.arc(g.radius+-g.diameter*g.pivotX,g.radius+-g.diameter*g.pivotY,g.radius,0,2*Math.PI,!1),g.mask===!0?a.clip():("none"!==g.strokeStyle&&a.stroke(),"none"!==g.fillStyle&&a.fill())},g},q.line=function(a,b,c,d,e,f){var g={};return i(g),c||0===c||(c=0),d||0===d||(d=0),e||0===e||(e=32),f||0===f||(f=32),g.ax=c,g.ay=d,g.bx=e,g.by=f,g.strokeStyle=a||"red",g.lineWidth=b||1,g.lineJoin="round",q.stage.addChild(g),g.render=function(a){a.strokeStyle=g.strokeStyle,a.lineWidth=g.lineWidth,a.lineJoin=g.lineJoin,a.beginPath(),a.moveTo(g.ax,g.ay),a.lineTo(g.bx,g.by),"none"!==g.strokeStyle&&a.stroke(),"none"!==g.fillStyle&&a.fill()},g},q.text=function(a,b,c,d,e){var f={};return i(f),f.content=a||"Hello!",f.font=b||"12px sans-serif",f.fillStyle=c||"red",f.textBaseline="top",Object.defineProperties(f,{width:{get:function(){return q.canvas.ctx.measureText(f.content).width},enumerable:!0,configurable:!0},height:{get:function(){return q.canvas.ctx.measureText("M").width},enumerable:!0,configurable:!0}}),q.stage.addChild(f),f.x=d||0,f.y=e||0,f.render=function(a){a.strokeStyle=f.strokeStyle,a.lineWidth=f.lineWidth,a.fillStyle=f.fillStyle,0===f.width&&(f.width=a.measureText(f.content).width),0===f.height&&(f.height=a.measureText("M").width),a.translate(-f.width*f.pivotX,-f.height*f.pivotY),a.font=f.font,a.textBaseline=f.textBaseline,a.fillText(f.content,0,0)},f},q.frame=function(a,b,c,d,e){var f={};return f.image=a,f.x=b,f.y=c,f.width=d,f.height=e,f},q.frames=function(a,b,c,d){var e={};return e.image=a,e.data=b,e.width=c,e.height=d,e},q.filmstrip=function(a,b,c,d){for(var e=q.assets[a].source,f=[],g=e.width/b,h=e.height/c,i=g*h,j=0;i>j;j++){var k,l;k=j%g*b,l=Math.floor(j/g)*c,d&&d>0&&(k+=d+d*j%g,l+=d+d*Math.floor(j/g)),f.push([k,l])}return q.frames(a,f,b,c)},q.sprite=function(a){var b={};if(void 0===a)throw new Error("Sprites require a source");return i(b),b.frames=[],b.loop=!0,b._currentFrame=0,b.setTexture=function(a){if(a.image)if(a.image&&!a.data){if(!(q.assets[a.image].source instanceof Image))throw new Error(a.image+" is not an image file");b.source=q.assets[a.image].source,b.sourceX=a.x,b.sourceY=a.y,b.width=a.width,b.height=a.height,b.sourceWidth=a.width,b.sourceHeight=a.height}else a.image&&a.data&&(b.source=q.assets[a.image].source,b.frames=a.data,b.sourceX=b.frames[0][0],b.sourceY=b.frames[0][1],b.width=a.width,b.height=a.height,b.sourceWidth=a.width,b.sourceHeight=a.height);else a instanceof Array?(b.frames=a,b.source=q.assets[a[0]].source,b.sourceX=q.assets[a[0]].frame.x,b.sourceY=q.assets[a[0]].frame.y,b.width=q.assets[a[0]].frame.w,b.height=q.assets[a[0]].frame.h,b.sourceWidth=q.assets[a[0]].frame.w,b.sourceHeight=q.assets[a[0]].frame.h):(b.tilesetFrame=q.assets[a],b.source=b.tilesetFrame.source,b.sourceX=b.tilesetFrame.frame.x,b.sourceY=b.tilesetFrame.frame.y,b.width=b.tilesetFrame.frame.w,b.height=b.tilesetFrame.frame.h,b.sourceWidth=b.tilesetFrame.frame.w,b.sourceHeight=b.tilesetFrame.frame.h)},b.setTexture(a),b.gotoAndStop=function(a){if(!(b.frames.length>0))throw new Error("Frame number "+a+"doesn't exist");b.frames[0]instanceof Array?(b.sourceX=b.frames[a][0],b.sourceY=b.frames[a][1]):q.assets[b.frames[a]].frame&&(b.source=q.assets[b.frames[a]].source,b.sourceX=q.assets[b.frames[a]].frame.x,b.sourceY=q.assets[b.frames[a]].frame.y,b.sourceWidth=q.assets[b.frames[a]].frame.w,b.sourceHeight=q.assets[b.frames[a]].frame.h,b.width=q.assets[b.frames[a]].frame.w,b.height=q.assets[b.frames[a]].frame.h),b._currentFrame=a},b.x=0,b.y=0,b.frames.length>0&&(q.addStatePlayer(b),Object.defineProperty(b,"currentFrame",{get:function(){return b._currentFrame},enumerable:!1,configurable:!1})),q.stage.addChild(b),b.render=function(a){a.drawImage(b.source,b.sourceX,b.sourceY,b.sourceWidth,b.sourceHeight,-b.width*b.pivotX,-b.height*b.pivotY,b.width,b.height)},b},q.button=function(a){var b=q.sprite(a);return b.subtype="button",l(b),b},q.image=function(a){return q.assets[a]},q.json=function(a){return q.assets[a]},q.addStatePlayer=function(a){function b(b){g(),a.gotoAndStop("string"!=typeof b?b:a.frames.indexOf(b))}function c(){e([0,a.frames.length-1])}function d(){g(),a.gotoAndStop(a.currentFrame)}function e(b){g(),j=b[0],k=b[1],i=k-j,0===j&&(i+=1,h+=1),1===i&&(i=2,h+=1),a.fps||(a.fps=12);var c=1e3/a.fps;a.gotoAndStop(j),m||(l=setInterval(f.bind(this),c),m=!0)}function f(){i>h?(a.gotoAndStop(a.currentFrame+1),h+=1):a.loop&&(a.gotoAndStop(j),h=1)}function g(){void 0!==l&&m===!0&&(m=!1,h=0,j=0,k=0,i=0,clearInterval(l))}var h=0,i=0,j=0,k=0,l=void 0,m=!1;a.show=b,a.play=c,a.stop=d,a.playing=m,a.playSequence=e},q.render=function(a,b){function c(e){if(e.visible&&e.gx<a.width+e.width&&e.gx+e.width>=-e.width&&e.gy<a.height+e.height&&e.gy+e.height>=-e.height){if(d.save(),q.interpolate?(e.renderX=void 0!==e._previousX?(e.x-e._previousX)*b+e._previousX:e.x,e.renderY=void 0!==e._previousY?(e.y-e._previousY)*b+e._previousY:e.y):(e.renderX=e.x,e.renderY=e.y),d.translate(e.renderX+e.width*e.pivotX,e.renderY+e.height*e.pivotY),d.globalAlpha=e.alpha,d.rotate(e.rotation),d.scale(e.scaleX,e.scaleY),e.shadow&&(d.shadowColor=e.shadowColor,d.shadowOffsetX=e.shadowOffsetX,d.shadowOffsetY=e.shadowOffsetY,d.shadowBlur=e.shadowBlur),e.blendMode&&(d.globalCompositeOperation=e.blendMode),e.render&&e.render(d),e.children&&e.children.length>0){d.translate(-e.width*e.pivotX,-e.height*e.pivotY);for(var f=0;f<e.children.length;f++){var g=e.children[f];c(g)}}d.restore()}}var d=a.ctx;d.clearRect(0,0,a.width,a.height);for(var e=0;e<q.stage.children.length;e++){var f=q.stage.children[e];c(f)}},q.assets={toLoad:0,loaded:0,imageExtensions:["png","jpg","gif","webp"],fontExtensions:["ttf","otf","ttc","woff"],audioExtensions:["mp3","ogg","wav","webm"],jsonExtensions:["json"],whenLoaded:void 0,load:function(a){console.log("Loading assets...");var b=this;b.toLoad=a.length,a.forEach(function(a){var c=a.split(".").pop();if(-1!==b.imageExtensions.indexOf(c)){var d=new Image;d.addEventListener("load",function(){d.name=a,b[d.name]={source:d,frame:{x:0,y:0,w:d.width,h:d.height}},b.loadHandler()},!1),d.src=a}else if(-1!==b.fontExtensions.indexOf(c)){var e=a.split("/").pop().split(".")[0],f=document.createElement("style"),g="@font-face {font-family: '"+e+"'; src: url('"+a+"');}";f.appendChild(document.createTextNode(g)),document.head.appendChild(f),b.loadHandler()}else if(-1!==b.audioExtensions.indexOf(c)){var h=q.makeSound(a,b.loadHandler.bind(b));h.name=a,b[h.name]=h}else if(-1!==b.jsonExtensions.indexOf(c)){var i=new XMLHttpRequest,j={};i.open("GET",a,!0),i.addEventListener("readystatechange",function(){200===i.status&&4===i.readyState&&(j=JSON.parse(i.responseText),j.name=a,b[j.name]=j,j.frames?b.createTilesetFrames(j,a):b.loadHandler())}),i.send()}else console.log("File type not recognized: "+a)})},createTilesetFrames:function(a,b){function c(){d[e+a.meta.image]={source:f,frame:{x:0,y:0,w:f.width,h:f.height}},Object.keys(a.frames).forEach(function(b){d[b]=a.frames[b],d[b].source=f}),d.loadHandler()}var d=this,e=b.replace(/[^\/]*$/,""),f=new Image;f.addEventListener("load",c,!1),f.src=e+a.meta.image},loadHandler:function(){var a=this;a.loaded+=1,console.log(a.loaded),a.toLoad===a.loaded&&(a.toLoad=0,a.loaded=0,a.whenLoaded())}},q.keyboard=n,q.makeDisplayObject=i,void 0!==GA.plugins&&GA.plugins(q),void 0!==GA.custom&&GA.custom(q),q},window.ga=GA.create;
//# sourceMappingURL=ga.min.js.map